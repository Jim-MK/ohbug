!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Ohbug=e()}(this,function(){"use strict";function t(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(r){t(e,r,n[r])})}return e}var r="uncaughtError",n="resourceError",o="grammarError",a="promiseError",i="ajaxError",c="fetchError",u="websocketError",s="unknownError";var f=function(){this.__data__=[],this.size=0};var l=function(t,e){return t===e||t!=t&&e!=e};var d=function(t,e){for(var r=t.length;r--;)if(l(t[r][0],e))return r;return-1},p=Array.prototype.splice;var h=function(t){var e=this.__data__,r=d(e,t);return!(r<0||(r==e.length-1?e.pop():p.call(e,r,1),--this.size,0))};var v=function(t){var e=this.__data__,r=d(e,t);return r<0?void 0:e[r][1]};var y=function(t){return d(this.__data__,t)>-1};var b=function(t,e){var r=this.__data__,n=d(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function g(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}g.prototype.clear=f,g.prototype.delete=h,g.prototype.get=v,g.prototype.has=y,g.prototype.set=b;var w=g;var _=function(){this.__data__=new w,this.size=0};var m=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var j=function(t){return this.__data__.get(t)};var O=function(t){return this.__data__.has(t)},x="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function E(t,e){return t(e={exports:{}},e.exports),e.exports}var S="object"==typeof x&&x&&x.Object===Object&&x,A="object"==typeof self&&self&&self.Object===Object&&self,k=S||A||Function("return this")(),$=k.Symbol,z=Object.prototype,T=z.hasOwnProperty,L=z.toString,P=$?$.toStringTag:void 0;var M=function(t){var e=T.call(t,P),r=t[P];try{t[P]=void 0}catch(t){}var n=L.call(t);return e?t[P]=r:delete t[P],n},C=Object.prototype.toString;var D=function(t){return C.call(t)},N="[object Null]",I="[object Undefined]",U=$?$.toStringTag:void 0;var q=function(t){return null==t?void 0===t?I:N:U&&U in Object(t)?M(t):D(t)};var F=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},H="[object AsyncFunction]",B="[object Function]",V="[object GeneratorFunction]",R="[object Proxy]";var W,X=function(t){if(!F(t))return!1;var e=q(t);return e==B||e==V||e==H||e==R},Y=k["__core-js_shared__"],G=(W=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"";var J=function(t){return!!G&&G in t},K=Function.prototype.toString;var Q=function(t){if(null!=t){try{return K.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Z=/^\[object .+?Constructor\]$/,tt=Function.prototype,et=Object.prototype,rt=tt.toString,nt=et.hasOwnProperty,ot=RegExp("^"+rt.call(nt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var at=function(t){return!(!F(t)||J(t))&&(X(t)?ot:Z).test(Q(t))};var it=function(t,e){return null==t?void 0:t[e]};var ct=function(t,e){var r=it(t,e);return at(r)?r:void 0},ut=ct(k,"Map"),st=ct(Object,"create");var ft=function(){this.__data__=st?st(null):{},this.size=0};var lt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},dt="__lodash_hash_undefined__",pt=Object.prototype.hasOwnProperty;var ht=function(t){var e=this.__data__;if(st){var r=e[t];return r===dt?void 0:r}return pt.call(e,t)?e[t]:void 0},vt=Object.prototype.hasOwnProperty;var yt=function(t){var e=this.__data__;return st?void 0!==e[t]:vt.call(e,t)},bt="__lodash_hash_undefined__";var gt=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=st&&void 0===e?bt:e,this};function wt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}wt.prototype.clear=ft,wt.prototype.delete=lt,wt.prototype.get=ht,wt.prototype.has=yt,wt.prototype.set=gt;var _t=wt;var mt=function(){this.size=0,this.__data__={hash:new _t,map:new(ut||w),string:new _t}};var jt=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Ot=function(t,e){var r=t.__data__;return jt(e)?r["string"==typeof e?"string":"hash"]:r.map};var xt=function(t){var e=Ot(this,t).delete(t);return this.size-=e?1:0,e};var Et=function(t){return Ot(this,t).get(t)};var St=function(t){return Ot(this,t).has(t)};var At=function(t,e){var r=Ot(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function kt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}kt.prototype.clear=mt,kt.prototype.delete=xt,kt.prototype.get=Et,kt.prototype.has=St,kt.prototype.set=At;var $t=kt,zt=200;var Tt=function(t,e){var r=this.__data__;if(r instanceof w){var n=r.__data__;if(!ut||n.length<zt-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new $t(n)}return r.set(t,e),this.size=r.size,this};function Lt(t){var e=this.__data__=new w(t);this.size=e.size}Lt.prototype.clear=_,Lt.prototype.delete=m,Lt.prototype.get=j,Lt.prototype.has=O,Lt.prototype.set=Tt;var Pt=Lt,Mt="__lodash_hash_undefined__";var Ct=function(t){return this.__data__.set(t,Mt),this};var Dt=function(t){return this.__data__.has(t)};function Nt(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new $t;++e<r;)this.add(t[e])}Nt.prototype.add=Nt.prototype.push=Ct,Nt.prototype.has=Dt;var It=Nt;var Ut=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1};var qt=function(t,e){return t.has(e)},Ft=1,Ht=2;var Bt=function(t,e,r,n,o,a){var i=r&Ft,c=t.length,u=e.length;if(c!=u&&!(i&&u>c))return!1;var s=a.get(t);if(s&&a.get(e))return s==e;var f=-1,l=!0,d=r&Ht?new It:void 0;for(a.set(t,e),a.set(e,t);++f<c;){var p=t[f],h=e[f];if(n)var v=i?n(h,p,f,e,t,a):n(p,h,f,t,e,a);if(void 0!==v){if(v)continue;l=!1;break}if(d){if(!Ut(e,function(t,e){if(!qt(d,e)&&(p===t||o(p,t,r,n,a)))return d.push(e)})){l=!1;break}}else if(p!==h&&!o(p,h,r,n,a)){l=!1;break}}return a.delete(t),a.delete(e),l},Vt=k.Uint8Array;var Rt=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r};var Wt=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r},Xt=1,Yt=2,Gt="[object Boolean]",Jt="[object Date]",Kt="[object Error]",Qt="[object Map]",Zt="[object Number]",te="[object RegExp]",ee="[object Set]",re="[object String]",ne="[object Symbol]",oe="[object ArrayBuffer]",ae="[object DataView]",ie=$?$.prototype:void 0,ce=ie?ie.valueOf:void 0;var ue=function(t,e,r,n,o,a,i){switch(r){case ae:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case oe:return!(t.byteLength!=e.byteLength||!a(new Vt(t),new Vt(e)));case Gt:case Jt:case Zt:return l(+t,+e);case Kt:return t.name==e.name&&t.message==e.message;case te:case re:return t==e+"";case Qt:var c=Rt;case ee:var u=n&Xt;if(c||(c=Wt),t.size!=e.size&&!u)return!1;var s=i.get(t);if(s)return s==e;n|=Yt,i.set(t,e);var f=Bt(c(t),c(e),n,o,a,i);return i.delete(t),f;case ne:if(ce)return ce.call(t)==ce.call(e)}return!1};var se=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t},fe=Array.isArray;var le=function(t,e,r){var n=e(t);return fe(t)?n:se(n,r(t))};var de=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,a=[];++r<n;){var i=t[r];e(i,r,t)&&(a[o++]=i)}return a};var pe=function(){return[]},he=Object.prototype.propertyIsEnumerable,ve=Object.getOwnPropertySymbols,ye=ve?function(t){return null==t?[]:(t=Object(t),de(ve(t),function(e){return he.call(t,e)}))}:pe;var be=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var ge=function(t){return null!=t&&"object"==typeof t},we="[object Arguments]";var _e=function(t){return ge(t)&&q(t)==we},me=Object.prototype,je=me.hasOwnProperty,Oe=me.propertyIsEnumerable,xe=_e(function(){return arguments}())?_e:function(t){return ge(t)&&je.call(t,"callee")&&!Oe.call(t,"callee")};var Ee=function(){return!1},Se=E(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?k.Buffer:void 0,a=(o?o.isBuffer:void 0)||Ee;t.exports=a}),Ae=9007199254740991,ke=/^(?:0|[1-9]\d*)$/;var $e=function(t,e){var r=typeof t;return!!(e=null==e?Ae:e)&&("number"==r||"symbol"!=r&&ke.test(t))&&t>-1&&t%1==0&&t<e},ze=9007199254740991;var Te=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=ze},Le={};Le["[object Float32Array]"]=Le["[object Float64Array]"]=Le["[object Int8Array]"]=Le["[object Int16Array]"]=Le["[object Int32Array]"]=Le["[object Uint8Array]"]=Le["[object Uint8ClampedArray]"]=Le["[object Uint16Array]"]=Le["[object Uint32Array]"]=!0,Le["[object Arguments]"]=Le["[object Array]"]=Le["[object ArrayBuffer]"]=Le["[object Boolean]"]=Le["[object DataView]"]=Le["[object Date]"]=Le["[object Error]"]=Le["[object Function]"]=Le["[object Map]"]=Le["[object Number]"]=Le["[object Object]"]=Le["[object RegExp]"]=Le["[object Set]"]=Le["[object String]"]=Le["[object WeakMap]"]=!1;var Pe=function(t){return ge(t)&&Te(t.length)&&!!Le[q(t)]};var Me=function(t){return function(e){return t(e)}},Ce=E(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r&&S.process,a=function(){try{var t=n&&n.require&&n.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=a}),De=Ce&&Ce.isTypedArray,Ne=De?Me(De):Pe,Ie=Object.prototype.hasOwnProperty;var Ue=function(t,e){var r=fe(t),n=!r&&xe(t),o=!r&&!n&&Se(t),a=!r&&!n&&!o&&Ne(t),i=r||n||o||a,c=i?be(t.length,String):[],u=c.length;for(var s in t)!e&&!Ie.call(t,s)||i&&("length"==s||o&&("offset"==s||"parent"==s)||a&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||$e(s,u))||c.push(s);return c},qe=Object.prototype;var Fe=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||qe)};var He=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),Be=Object.prototype.hasOwnProperty;var Ve=function(t){if(!Fe(t))return He(t);var e=[];for(var r in Object(t))Be.call(t,r)&&"constructor"!=r&&e.push(r);return e};var Re=function(t){return null!=t&&Te(t.length)&&!X(t)};var We=function(t){return Re(t)?Ue(t):Ve(t)};var Xe=function(t){return le(t,We,ye)},Ye=1,Ge=Object.prototype.hasOwnProperty;var Je=function(t,e,r,n,o,a){var i=r&Ye,c=Xe(t),u=c.length;if(u!=Xe(e).length&&!i)return!1;for(var s=u;s--;){var f=c[s];if(!(i?f in e:Ge.call(e,f)))return!1}var l=a.get(t);if(l&&a.get(e))return l==e;var d=!0;a.set(t,e),a.set(e,t);for(var p=i;++s<u;){var h=t[f=c[s]],v=e[f];if(n)var y=i?n(v,h,f,e,t,a):n(h,v,f,t,e,a);if(!(void 0===y?h===v||o(h,v,r,n,a):y)){d=!1;break}p||(p="constructor"==f)}if(d&&!p){var b=t.constructor,g=e.constructor;b!=g&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof g&&g instanceof g)&&(d=!1)}return a.delete(t),a.delete(e),d},Ke=ct(k,"DataView"),Qe=ct(k,"Promise"),Ze=ct(k,"Set"),tr=ct(k,"WeakMap"),er=Q(Ke),rr=Q(ut),nr=Q(Qe),or=Q(Ze),ar=Q(tr),ir=q;(Ke&&"[object DataView]"!=ir(new Ke(new ArrayBuffer(1)))||ut&&"[object Map]"!=ir(new ut)||Qe&&"[object Promise]"!=ir(Qe.resolve())||Ze&&"[object Set]"!=ir(new Ze)||tr&&"[object WeakMap]"!=ir(new tr))&&(ir=function(t){var e=q(t),r="[object Object]"==e?t.constructor:void 0,n=r?Q(r):"";if(n)switch(n){case er:return"[object DataView]";case rr:return"[object Map]";case nr:return"[object Promise]";case or:return"[object Set]";case ar:return"[object WeakMap]"}return e});var cr=ir,ur=1,sr="[object Arguments]",fr="[object Array]",lr="[object Object]",dr=Object.prototype.hasOwnProperty;var pr=function(t,e,r,n,o,a){var i=fe(t),c=fe(e),u=i?fr:cr(t),s=c?fr:cr(e),f=(u=u==sr?lr:u)==lr,l=(s=s==sr?lr:s)==lr,d=u==s;if(d&&Se(t)){if(!Se(e))return!1;i=!0,f=!1}if(d&&!f)return a||(a=new Pt),i||Ne(t)?Bt(t,e,r,n,o,a):ue(t,e,u,r,n,o,a);if(!(r&ur)){var p=f&&dr.call(t,"__wrapped__"),h=l&&dr.call(e,"__wrapped__");if(p||h){var v=p?t.value():t,y=h?e.value():e;return a||(a=new Pt),o(v,y,r,n,a)}}return!!d&&(a||(a=new Pt),Je(t,e,r,n,o,a))};var hr=function t(e,r,n,o,a){return e===r||(null==e||null==r||!ge(e)&&!ge(r)?e!=e&&r!=r:pr(e,r,n,o,t,a))};var vr,yr=function(t,e){return hr(t,e)};function br(){var t=window.$OhbugConfig,r=new Date,n={time:"".concat(r.getFullYear(),"年").concat(r.getMonth()+1,"月").concat(r.getDate(),"日").concat(r.getHours(),"时").concat(r.getMinutes(),"分").concat(r.getSeconds(),"秒"),userAgent:window.navigator.userAgent,url:window.location.href,title:document.title,preUrl:document.referrer&&document.referrer!==window.location.href?document.referrer:""};return t&&t.others&&(n=e({},n,t.others)),n}function gr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;[{type:0,msg:"log",style:"background: #e4f1eb; color: #fff; padding: 2px 4px; border-radius: 2px"},{type:1,msg:"info",style:"background: #007fff; color: #fff; padding: 2px 4px; border-radius: 2px"},{type:2,msg:"error",style:"background: #d9634d; color: #fff; padding: 2px 4px; border-radius: 2px"}].forEach(function(r){e===r.type&&console[r.msg]("%c".concat(r.msg),r.style,t)})}var wr=/^(https?:\/\/)?(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(.+)?$/.test(window.location.host)||window.location.host.indexOf("localhost")>-1;function _r(t){try{var e=window.$OhbugConfig;wr?e&&e.enabledDev&&e.report&&e.report(t):e&&Array.isArray(e.enabledDev)?e.enabledDev.forEach(function(r){if(window.location.host&&r.indexOf(window.location.host)>-1)return e.report(t),!0}):e&&e.report&&e.report(t)}catch(t){gr("发送日志失败 errorInfo:".concat(t))}}var mr=[],jr=function(t){return function(t,e){return function(){var r=this,n=arguments;vr&&clearTimeout(vr),vr=setTimeout(function(){t.apply(r,n)},e)}}(function(){gr(mr,0),_r(mr)},t).call()};function Or(t){gr(t),mr.length?mr.forEach(function(r){yr(t.desc,r.desc)||mr.push(e({},br(),t))}):mr.push(e({},br(),t));var r=window.$OhbugConfig;r&&r.error&&("immediately"===r.mode||!r.mode)&&mr.length&&mr.length<=r.maxError&&jr(r&&r.delay||2e3)}function xr(t){var e=t.type,i=t.e;try{if("default"===e){var c=i.message,u=i.filename,f=i.lineno,l=i.colno,d=i.error;if(c){if(d)Or({type:r,desc:{message:c,filename:u,row:f,col:l,error:d.stack||d}})}else{var p=i.target||i.srcElement,h=i.target||i.srcElement;if(p){var v=p.outerHTML,y=function(){for(var t=[],e=0;h&&h.nodeType===Node.ELEMENT_NODE&&h.nodeType!==Node.DOCUMENT_TYPE_NODE;h=h.previousSibling)e&&t.push(h),e+=1;return i&&i.path.reverse().map(function(e){return(e.localName||"")+(e.id?"#".concat(e.id):"")+(e.className?".".concat(e.className):"")+(e.outerHTML===v?":nth-child(".concat(t.length,")"):"")}).filter(function(t){return t}).join(" > ")}();Or({type:n,desc:{outerHTML:v,src:p&&p.src,tagName:p&&p.tagName,id:p&&p.id,className:p&&p.className,name:p&&p.name,type:p&&p.type,selector:y,timeStamp:i.timeStamp}})}else if("string"==typeof i){Or({type:o,desc:i})}}}else if("promise"===e){Or({type:a,desc:{message:i.reason.message||i.reason,error:i.reason.stack||i.reason}})}return!1}catch(t){Or({type:s,desc:"unknown error"})}}function Er(){try{if(window){if(!window.performance)return new Error("performance is not supported");var t=performance.getEntriesByType("resource");return t&&t.length?t.map(function(t){return{name:t.name,type:t.initiatorType,duration:t.duration||0,decodedBodySize:t.decodedBodySize||0,nextHopProtocol:t.nextHopProtocol}}):[]}}catch(t){gr(t)}}function Sr(){try{if(window.localStorage){var t=new Date,e=localStorage.getItem("$OhbugUV")||"",r=localStorage.getItem("$OhbugUVTime")||"";if(!e&&!r||t.getTime()>1*r){e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}),localStorage.setItem("$OhbugUV",e);var n="".concat(t.getFullYear(),"/").concat(t.getMonth()+1,"/").concat(t.getDate()," 23:59:59");localStorage.setItem("$OhbugUVTime",new Date(n).getTime())}return e}}catch(t){gr(t)}}function Ar(){window.addEventListener&&window.addEventListener("error",function(t){xr({type:"default",e:t})},!0),window.addEventListener&&window.addEventListener("unhandledrejection",function(t){t.preventDefault(),xr({type:"promise",e:t})},!0),function(){var t=window.$OhbugConfig.ignore;if(window.XMLHttpRequest&&{url:"",method:"",open:window.XMLHttpRequest.prototype.open,send:window.XMLHttpRequest.prototype.send,init:function(){var e=this;window.XMLHttpRequest.prototype.open=function(){e.url=arguments[1],e.method=arguments[0],e.open.apply(this,arguments)},window.XMLHttpRequest.prototype.send=function(){this.addEventListener("readystatechange",function(){if(4===this.readyState){var r=t.filter(function(t){return e.url.indexOf(t)>-1});this.status&&!(this.status>=400)||r.length||Or({type:i,desc:{req:{url:e.url,method:e.method,data:arguments[0]||{}},res:{status:this.status,statusText:this.statusText,response:this.response}}})}}),e.send.apply(this,arguments)}}}.init(),window.fetch){var e={backup:window.fetch,init:function(){window.fetch=function(r,n){return e.backup.apply(this,arguments).then(function(e){var o=t.filter(function(t){return r.indexOf(t)>-1});return e.status&&!(e.status>=400)||o.length||Or({type:c,desc:{req:{url:r,method:n&&n.method||"GET",data:n&&n.body||{}},res:{status:e.status,statusText:e.statusText}}}),e}).catch(function(t){Or({type:c,desc:t})})}}};e.init()}window.WebSocket&&{url:"",backup:Object.getOwnPropertyDescriptor(window.WebSocket.prototype,"onerror"),init:function(){var t=this;Object.defineProperty(window.WebSocket.prototype,"onerror",{set:function(){try{var e=arguments[0];t.backup.set.apply(this,[function(t){Or({type:u,desc:{url:t.target.url}}),e.apply(this,arguments)}])}catch(e){return t.backup.set.apply(this,arguments)}}})}}.init()}(),window.$OhbugConfig&&"beforeunload"===window.$OhbugConfig.mode&&window.addEventListener&&window.addEventListener("unload",function(){mr.length&&mr.length<=window.$OhbugConfig.maxError&&_r(mr)},!0),window.$OhbugConfig&&window.$OhbugConfig.performance&&window.addEventListener&&window.addEventListener("load",function(){var t=function(){try{if(window){if(!window.performance)return new Error("performance is not supported");var t=window.performance.timing,e=t.connectEnd,r=t.connectStart,n=t.domComplete,o=t.domContentLoadedEventEnd,a=t.domContentLoadedEventStart,i=t.domInteractive,c=t.domLoading,u=t.domainLookupEnd,s=t.domainLookupStart,f=t.fetchStart,l=t.loadEventEnd,d=t.loadEventStart,p=t.navigationStart,h=t.redirectEnd,v=t.redirectStart,y=t.requestStart,b=t.responseEnd,g=t.responseStart,w=t.secureConnectionStart;return{redirect:h-v||0,cache:s-f||0,dns:u-s||0,tcp:e-r||0,secureConnection:w?e-w:0,request:b-y||0,first:g-p||0,unload:t.unloadEventEnd-t.unloadEventStart||0,network:b-p||0,domInteractive:i-c||0,script:o-a||0,dom:n-i||0,onload:l-d||0,total:l-p||0}}}catch(t){gr(t)}}(),r=Er(),n=Sr(),o=e({},br());t&&(o.performance=t),r&&r.length&&(o.resource=r),n&&(o.UV=n),_r(o)},!0)}function kr(){}return kr.init=function(t){window?(window.$OhbugAuth=!0,window.$OhbugConfig||(window.$OhbugConfig={delay:2e3,report:function(){},enabledDev:!1,maxError:10,mode:"immediately",ignore:[],error:!0,performance:!1,include:null}),t&&(window.$OhbugConfig=e({},window.$OhbugConfig,t)),window.$OhbugAuth&&Ar()):console.error("Ohbug: 检测到当前环境不支持 Ohbug！")},kr.caughtError=function(t,r,n){if(window.$OhbugAuth){if("function"==typeof n.value)return e({},n,{value:function(){try{return n.value&&n.value.apply(this,arguments)}catch(t){throw Or({type:"caughtError",desc:{method:r,params:arguments,error:t.stack||t}}),t}}});if("function"==typeof n.initializer)return{enumerable:!0,configurable:!0,get:function(){return n.initializer&&n.initializer.apply(this)}}}else console.error("Ohbug: 检测到未执行 Ohbug.init()")},kr.reportInfo=function(t,e){if(window.$OhbugAuth){var r=window.$OhbugConfig,n={type:"reportInfo",desc:t};r.include?"function"==typeof r.include?e?r.include()&&Or(n):Or(n):console.error("Ohbug: 参数 include 类型必须为 function"):!r.include&&e?console.error("Ohbug: Ohbug.init 未传入参数 include"):r.include||e||Or(n)}else console.error("Ohbug: 检测到未执行 Ohbug.init()")},kr});
